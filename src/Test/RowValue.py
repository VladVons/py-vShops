Data = '''
-- fmtGet_Products_LangId.sql\n-- in: aLangId, aProductId\n\nwith wt1 as (\n    select\n        rp.id,\n        rp.idt,\n        rp.cond_en,\n        --coalesce(rp.idt, rp.id) as code,\n        rp.tenant_id,\n        rps.rest::int,\n        rt.title as tenant_title,\n        rpl.title,\n        rpl.descr,\n        rpl.features,\n        rpl.meta_key,\n        rpcl.title as category_title,\n        array (\n            select rpi.image\n            from ref_product_image rpi\n            where (rpi.product_id = rp.id and rpi.enabled)\n            order by rpi.sort_order, rpi.image\n        ) as images,\n        (\n            select jsonb_object_agg(ral.title, rpa.val, 1, 2)\n            from ref_product_attr rpa\n            left join ref_attr ra on (ra.id = rpa.attr_id)\n            left join ref_attr_lang ral on (ral.attr_id = ra.id and ral.lang_id = 1)\n            where (rpa.product_id = 186)\n        ) as attr\n    from\n        ref_product rp\n    left join\n        reg_product_stock rps on\n        (rp.id = rps.product_id)\n    left join\n        ref_product_lang rpl on\n        (rp.id = rpl.product_id) and (rpl.lang_id = 1)\n    left join\n        ref_product_to_category rptc on\n        (rp.id = rptc.product_id)\n    left join\n        ref_product_category_lang rpcl on\n        (rptc.category_id = rpcl.category_id) and (rpl.lang_id = 1)\n    left join\n        ref_tenant rt on\n        (rp.tenant_id = rt.id)\n    where\n        (rp.enabled) and\n        (rp.id = 186) and\n        (rt.enabled)\n),\nwt2 as (\n    select\n        rp.id,\n        rpl.title,\n        rpl.descr,\n        rpl.features,\n        rpl.meta_key,\n        rptc.category_id,\n        rpcl.title as category_title,\n        array (\n            select rpi.image\n            from ref_product0_image rpi\n            where (rpi.product_id = rp.product0_id) and (rpi.enabled)\n            order by rpi.sort_order, rpi.image\n        ) as images\n    from\n        ref_product rp\n    left join\n        ref_product0_lang rpl on\n        (rp.product0_id = rpl.product_id)\n    left join\n        ref_product0_to_category rptc on\n        (rp.product0_id = rptc.product_id)\n    left join\n        ref_product0_category_lang rpcl on\n        (rptc.category_id = rpcl.category_id)\n    where\n        (rp.id = 186) and\n        (rp.product0_id is not null)\n)\nselect\n    wt1.id,\n    wt1.idt,\n    wt1.cond_en,\n    wt1.rest,\n    wt1.tenant_id,\n    wt1.tenant_title,\n    wt1.attr,\n    coalesce(wt1.title, wt2.title) as title,\n    coalesce(wt1.descr, wt2.descr) as descr,\n    coalesce(wt1.features, wt2.features) as features,\n    coalesce(wt1.meta_key, wt2.meta_key) as meta_key,\n    wt2.category_id,\n    coalesce(wt1.category_title, wt2.category_title) as category_title,\n    case when (cardinality(wt1.images) = 0) then wt2.images else wt1.images end as images\nfrom\n    wt1\nleft join wt2 on\n    (wt1.id = wt2.id)
'''
with open('RowValue.txt', 'w') as F:
    F.write(Data)

